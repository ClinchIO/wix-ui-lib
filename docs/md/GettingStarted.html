<!DOCTYPE  html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>doc</title>
    <style>
      /*github.com style (c) Vasily Polovnyov <vast@whiteants.net>*/
      pre code {
        display: block; padding: 0.5em;
        color: #333;
        background: #f8f8ff
      }
      pre .comment,
      pre .template_comment,
      pre .diff .header,
      pre .javadoc {
        color: #998;
        font-style: italic
      }
      pre .keyword,
      pre .css .rule .keyword,
      pre .winutils,
      pre .javascript .title,
      pre .nginx .title,
      pre .subst,
      pre .request,
      pre .status {
        color: #333;
        font-weight: bold
      }
      pre .number,
      pre .hexcolor,
      pre .ruby .constant {
        color: #099;
      }
      pre .string,
      pre .tag .value,
      pre .phpdoc,
      pre .tex .formula {
        color: #d14
      }
      pre .title,
      pre .id {
        color: #900;
        font-weight: bold
      }
      pre .javascript .title,
      pre .lisp .title,
      pre .clojure .title,
      pre .subst {
        font-weight: normal
      }
      pre .class .title,
      pre .haskell .type,
      pre .vhdl .literal,
      pre .tex .command {
        color: #458;
        font-weight: bold
      }
      pre .tag,
      pre .tag .title,
      pre .rules .property,
      pre .django .tag .keyword {
        color: #000080;
        font-weight: normal
      }
      pre .attribute,
      pre .variable,
      pre .lisp .body {
        color: #008080
      }
      pre .regexp {
        color: #009926
      }
      pre .class {
        color: #458;
        font-weight: bold
      }
      pre .symbol,
      pre .ruby .symbol .string,
      pre .lisp .keyword,
      pre .tex .special,
      pre .prompt {
        color: #990073
      }
      pre .built_in,
      pre .lisp .title,
      pre .clojure .built_in {
        color: #0086b3
      }
      pre .preprocessor,
      pre .pi,
      pre .doctype,
      pre .shebang,
      pre .cdata {
        color: #999;
        font-weight: bold
      }
      pre .deletion {
        background: #fdd
      }
      pre .addition {
        background: #dfd
      }
      pre .diff .change {
        background: #0086b3
      }
      pre .chunk {
        color: #aaa
      }
    </style>
  </head>
  <body>  
    <h1 id="getting-started">Getting Started</h1>
<h2 id="get-the-code">Get the Code</h2>
<p>Download the latest relaese of the ui lib from <a href="https://github.com/wix/wix-ui-lib/releases/download/v2.0.4/wix-ui-lib-v2.0.4.zip">here</a> and add it to your project folder.</p>
<h2 id="dependencies">Dependencies</h2>
<p>Wix UI lib dependencies are jQuery from version 1.9.0 and Wix SDK from version 1.25.0 make sure you include them in your HTML.</p>
<h2 id="html-file-setup">HTML file setup</h2>
<p>To get started, include the minified ui lib JS and CSS files in your App Settings HTML. Also add the <code>wix-ui</code> attribute on the body element, this will hide the document until <strong>Wix.UI.initialize</strong> will be called.</p>
<pre><code class="lang-html">&lt;!doctype html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;./ui-lib.min.css&quot;&gt;&lt;/link&gt;
    &lt;/head&gt;
    &lt;body wix-ui&gt;
        &lt;header class=&quot;box&quot;&gt;
            &lt;div class=&quot;logo&quot;&gt;
                &lt;img width=&quot;86&quot; src=&quot;images/wix_icon.png&quot; alt=&quot;logo&quot;/&gt;
            &lt;/div&gt;
            &lt;div class=&quot;loggedOut&quot;&gt;
                &lt;p&gt;&lt;!-- App Description --&gt;&lt;/p&gt;
                &lt;div class=&quot;login-panel&quot;&gt;&lt;!-- App login panel --&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;loggedIn hidden&quot;&gt;
                &lt;!-- App Logged in information --&gt;
                &lt;div class=&quot;premium-panel&quot;&gt;&lt;!-- Premium features --&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/header&gt;
        &lt;!-- your settings --&gt;
        &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;http://sslstatic.wix.com/services/js-sdk/1.24.0/js/Wix.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;ui-lib.min.js&quot;&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="namespace-and-programming">Namespace and programming</h2>
<p><strong>Wix</strong> is the global namespace deployed by the Wix SDK. The UI Lib will deploy itself as a sub namespace of the SDK under <strong>Wix.UI</strong>.</p>
<h2 id="using-components">Using Components</h2>
<p>The Wix UI Lib include two types of components - CSS &amp; Javascript.</p>
<h3 id="css-components">CSS Components</h3>
<p>Css components are several css classes that can help you build the ui of the settings.</p>
<h4 id="buttons">Buttons</h4>
<h4 id="general">General</h4>
<h3 id="javascript-components">Javascript Components</h3>
<p>These are basically a set of <a href="http://jquery.com/">jQuery</a> Plugins with specific structure.</p>
<h2 id="wix-custom-html-attributes">Wix custom HTML attributes</h2>
<p>The Wix UI Lib defines custom attributes which enable components initialization from within the HTML markup.</p>
<p><strong>wix-ctrl -</strong> component&#39;s controller declaration.</p>
<p><strong>wix-options -</strong> component initialization options.</p>
<p><strong>wix-ctrl:{options} - </strong> Alternative for combining the two attributes in one.</p>
<p><strong>wix-param -</strong> define style parameter key for a component - will be saved inside the site and not accessable for the app.</p>
<p><strong>wix-model -</strong> define app model key for a component - this is a two way data item that it&#39;s value is accessable by the app through the Wix.UI.get/set methods. Changes to this item can tracked by subscribing to change events Wix.UI.onChange method.</p>
<p><code>Warning: wix-pram &amp; wix-model are mutually exclusive and can not co-exist on the same controller. Only one of them should be used.</code></p>
<p>All attributes can be prefixed with <strong>data-</strong> to be W3C compliant (Optional).</p>
<h3 id="initialization">Initialization</h3>
<p>There are 2 ways to initialize the components:</p>
<ul>
<li>initialize with markup (prefered)</li>
<li>initialize with javascript (advance)</li>
</ul>
<h4 id="initialize-with-markup">Initialize with markup</h4>
<p>Each component can be initialized with a simple markup and two important attributes
<code>wix-ctrl</code> and <code>wix-options</code>:</p>
<pre><code class="lang-html">&lt;div wix-model=&quot;myKey&quot; wix-ctrl=&quot;ComponentName&quot; wix-options=&quot;{Options}&quot;&gt;&lt;/div&gt;</code></pre>
<p>The <strong>Wix.UI</strong> library manages all components that were decalred through markup or created dynamically.  <strong>Wix.UI.initialize()</strong> must be called on DOM ready to start the compoenets creations process and to display the document body. The compoenets will get created with the options that were specified inside the markup using the <code>wix-option</code> attribute.</p>
<p>All the <strong>Wix.UI</strong> components should be initialized after the DOM is ready.</p>
<pre><code class="lang-javascript">$( document ).ready(function(){

    Wix.UI.initialize({});

});</code></pre>
<h3 id="model">Model</h3>
<p>In order to set/get component values, you should add a <code>wix-model</code> attribute to the component markup this will bind them to the <strong>Wix.UI</strong> model. This will allow using the <strong>Wix.UI.set(key, value)</strong> or <strong>Wix.UI.get(key)</strong> methods to update the component value and retrieve the component value.</p>
<pre><code class="lang-html">&lt;div wix-model=&quot;myKey&quot; wix-ctrl=&quot;ComponentName&quot; wix-options=&quot;{option: &#39;value&#39;}&quot;&gt;&lt;/div&gt;</code></pre>
<p>Components that has <code>wix-model</code> attribute can be initialized with default values or values that retrieved from your server.</p>
<pre><code class="lang-html">...
&lt;div wix-model=&quot;showTweets&quot; wix-ctrl=&quot;Checkbox&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    $( document ).ready(function(){

      Wix.UI.initialize({
          showTweets: true
      });

      Wix.UI.get(&#39;showTweets&#39;); //returns true

      Wix.UI.set(&#39;showTweets&#39;, false);

      Wix.UI.get(&#39;showTweets&#39;); //returns false

      Wix.UI.set(&#39;showTweets&#39;, false, true); //sets the value and not fire change event

    });
&lt;/script&gt;
...</code></pre>
<h4 id="subscribe-to-model-change-events">Subscribe to model change events</h4>
<p>You can subscribe to changes in the wix-model with the following code:</p>
<pre><code class="lang-javascript">//subscribe to one key change
Wix.UI.onChange(&#39;myKey&#39;, function(value, key){
    //do some awesome stuff with the value
});

//subscribe to changes in all keys
Wix.UI.onChange(&#39;*&#39;, function(value, key){
    //do some awesome stuff with the value
});</code></pre>
<h4 id="save-wix-ui-model">Save Wix.UI Model</h4>
<p>When you want to save the state of your components you can simply call the toJSON function on the <strong>Wix.UI</strong> to get it&#39;s current state. This saved json representation can be later used to (re)initialize the <strong>Wix.UI</strong>. E.g. you can save it in your database and read on next invocations of the App Settings.</p>
<pre><code class="lang-javascript">var componentsValues = Wix.UI.toJSON();</code></pre>
<h6 id="jquery-example">jQuery Example</h6>
<pre><code class="lang-javascript">var widgetId = Wix.Utils.getInstanceId() + &#39;--&#39; + Wix.Utils.getCompId();

function saveSettings(){
    $.post(&#39;save.php?id=&#39; + widgetId, Wix.UI.toJSON());
}

function loadSettings(){
    $.get(&#39;load.php?id=&#39; + widgetId, function(data){
        Wix.UI.initialize(data);
    });
}

Wix.UI.onChange(&#39;*&#39;, function(){
    saveSettings();
});

$( document ).ready(function(){
    loadSettings();
});</code></pre>
<h3 id="wix-style-parameters">Wix Style Parameters</h3>
<p>Wix Style parameters, which replace the wix-model parameters, allow an app developer to save specific keys inside the Wix Site. Meaning, they do not need to be saved in the App&#39;s database like  wix-model parameters. <strong>Wix.UI</strong> takes care of saving it inside the site using the Wix SDK.</p>
<p>You can use the <code>wix-param</code> attribute on supported components. Currently Wix supports the following Components for wix-param:</p>
<h4 id="color-parameters-components">Color Parameters Components</h4>
<ul>
<li>ColorPicker</li>
<li>ColorPickerWithOpacity</li>
</ul>
<h4 id="number-parameters-components">Number Parameters Components</h4>
<ul>
<li>ButtonGroup</li>
<li>RadioButton</li>
<li>Dropdown</li>
<li>Slider</li>
</ul>
<h4 id="boolean-parameters-components">Boolean Parameters Components</h4>
<ul>
<li>Checkbox</li>
</ul>
<p><strong>wix-param</strong> attribute sets the key of the style parameter.</p>
<pre><code class="lang-html">&lt;div wix-param=&quot;myParam&quot; wix-ctrl=&quot;ColorPickerWithOpacity&quot;&gt;&lt;/div&gt;</code></pre>
<p>wix-param can also be consumed inside the App&#39;s Widget/Page. You can use <strong>Wix SDK</strong> to get all the style parameters that were set in the App&#39;s Settings.</p>
<pre><code class="lang-javascript">Wix.getStyleParams(function(styleParams){
    // styleParams is a map with all style values {colors:{}, numbers:{}, booleans:{}}
});</code></pre>
<h3 id="style-paramerters-in-a-css-stylesheet">Style paramerters in a CSS stylesheet</h3>
<p>You can use the color style parameters inside a <strong>inline CSS style</strong> within your widget, It&#39;s a simple template engine that uses {{value}} to interpolate the style parameters. fallback values are separated with spaces {{value fallback}}. In order to activate it put <code>wix-style</code> attribute on an inline style.</p>
<pre><code class="lang-html">&lt;style wix-style&gt;

    #myElement {
        background-color: {{style.myParam}}; /* style parameter */
        color: {{color-1}}; /* style from the template */
    }

    #myElement2 {
        background-color: {{style.myParam color-1}}; /* style parameter with fallback value*/
    }

    @media(wix-device-type:mobile){ /* wix media query for device type */
        #myElement {
            border: 1px solid {{color-1}};
        }
    }

&lt;/style&gt;</code></pre>
<p>Color style parameters can use reserved theme colors in the stylesheet using the following references:</p>
<ul>
<li>white/black - primary white, black if the site theme is inverted</li>
<li>black/white - primary black, white if the site theme is inverted</li>
<li>primary-1 - defined by the template</li>
<li>primary-2 - defined by the template</li>
<li>primary-3 - defined by the template</li>
<li>color-1 to color-25 - palette colors</li>
</ul>
<h3 id="adavnce-usage">Adavnce Usage</h3>
<h4 id="initialize-with-javascript">Initialize with javascript</h4>
<p>In this way you need to subscribe to changes and set values directly on the jQuery plugin.</p>
<pre><code class="lang-javascript">//create plugin on existing element
$(&#39;#myElement&#39;).PluginName(options);

//init Wix.UI bindings on an Wix ready element
var $el = $(&#39;&lt;div wix-ctrl=&quot;ColorPicker&quot; wix-model=&quot;myColor&quot; wix-options=&quot;{startWithColor:\&#39;#ffffff\&#39;}&quot;&gt;&#39;);
Wix.UI.initializePlugin($el);

//init Wix.UI bindings on an Wix ready element and override the options
Wix.UI.initializePlugin($(&#39;&lt;div wix-ctrl=&quot;ColorPicker&quot; wix-model=&quot;myColor&quot;&gt;&#39;), {
    startWithColor:&#39;#ffffff&#39;
});</code></pre>
<h3 id="dynamic-creation-of-javascript-components">Dynamic creation of javascript components</h3>
<pre><code class="lang-javascript">//create plugin and element that are conected to wix param or model
var jQueryElement = Wix.UI.create({
    id:&#39;myElement&#39;, //DOM element id
    ctrl: &#39;ColorPicker&#39;, //wix-ctrl
    param: &#39;myColor&#39;, //wix-param
    model: false, //wix-model
    html: &#39;&#39;, //initial innerHTML for the element
    appendTo: &#39;body&#39;, //appendTo selector
    options: { //wix-options
        startWithColor: &#39;#ffffff&#39;
    }
});</code></pre>
<h3 id="get-component-controller-instance-dynamically">Get component controller instance dynamically</h3>
<pre><code class="lang-javascript">//get the plugin instance from jQuery element
var pluginInstance = jQueryElement.getCtrl();
var pluginInstance = $(&#39;#myElement&#39;).getCtrl();</code></pre>
<h4 id="dynamic-component-destruction">Dynamic component destruction</h4>
<p>when you need to remove a component form the page to avoid memeory leaks use <strong>Wix.UI.destroyPlugin</strong></p>
<pre><code class="lang-javascript">//destroy the component and remove all listeners
Wix.UI.destroy($(&#39;#myElement&#39;));

//destroy the component, remove all listeners and delete the model key
Wix.UI.destroy($(&#39;#myElement&#39;), true);</code></pre>

  </body>
</html>
